language: python
python:
  - "2.7"
  - "3.4"
  - "3.5"
  - "3.6"
before_install:
  - sudo apt-get -qq update
  - sudo apt-get -y install autoconf automake build-essential libass-dev libfreetype6-dev libtheora-dev libtool libva-dev libvdpau-dev libvorbis-dev libxcb1-dev libxcb-shm0-dev libxcb-xfixes0-dev pkg-config texinfo wget zlib1g-dev
  - sudo apt-get install -y libmp3lame-dev libx264-dev
  - wget http://ffmpeg.org/releases/ffmpeg-3.3.2.tar.gz
  - tar -zxvf ffmpeg-3.3.2.tar.gz
  - cd ffmpeg-3.3.2
  - ./configure --prefix=/usr --enable-gpl --enable-libx264 --enable-libmp3lame --enable-nonfree
  - make
  - sudo make install
install:
  - pip install -r requirements.txt
script: python -m pytest test
